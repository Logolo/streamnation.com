// Generated by CoffeeScript 1.4.0
(function(){$(document).ready(function(){var e,t,n,r,i,s,o,u,a;u=1;n=$(window);t=[];i=0;a=0;e=$(".reloading-gif");s=$(".site-header").height();$(".hero-text").addClass("active");$(".hero-signup-button").addClass("active");(r=function(){t=$(".home-section").map(function(){return{selector:$(this),top:$(this).offset().top}});a=n.height();return setTimeout(function(){return n.one("resize",r)},1e3)})();(o=function(){return setTimeout(function(){u=n.scrollTop();$(".site-header").toggleClass("condensed",u>t[1].top-s);$(".signup-footer").toggleClass("bottom",u>20);$.each(t,function(e,n){var r,s,o;r=((s=t[e+1])!=null?s.top:void 0)||99999;if(n.top<=(o=u+a/2)&&o<r){n.selector.addClass("current");return i=e}return n.selector.removeClass("current")});e.each(function(){var e,t;t=$(this).data("src");e=$(this).data("delay")||0;if(!$(this).closest(".home-section").hasClass("current"))return $(this).hide().attr("src",null);if($(this).attr("src")==null)return $(this).delay(e).show(0).attr("src",t+"?"+Date.now())});return n.one("scroll",o)},100)})();return $("a",".page-nav").click(function(e){var n;e.preventDefault();switch($(this).attr("id")){case"prev-section":n=i-1;break;case"next-section":n=i+1;break;case"back-to-top":n=0}n<0&&(n=0);n>=t.length&&(n=t.length-1);return $("body").animate({scrollTop:t[n].top},function(){return i=n})})})}).call(this);