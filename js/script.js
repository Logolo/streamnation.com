// Generated by CoffeeScript 1.4.0
(function(){$(document).ready(function(){var e,t,n,r,i,s,o,u,a;a=1;t=$(window);e=[];r=0;i=0;s=0;o=[[],[],[{id:"computer",url:"browser/browser_animation.gif",delay:0},{id:"ios",url:"ios/iphone_ipad_animation.gif",delay:1e3},{id:"tv",url:"tv/tv_animation.gif",delay:2e3}],[]];$(".hero-text").addClass("active");$(".hero-signup-button").addClass("active");(n=function(){e=$(".home-section").map(function(){return{selector:$(this),top:$(this).offset().top}});return setTimeout(function(){return t.one("resize",n)},1e3)})();(u=function(){return setTimeout(function(){var n,f,l,c,h;a=t.scrollTop();$(".site-header").toggleClass("condensed",a>100);i=$(".site-header").height();$(".signup-footer").css({top:t.height()-60},a>20);s=$("#hero").height();$.each(e,function(t,n){var s,o,u;s=((o=e[t+1])!=null?o.top:void 0)||99999;if(n.top<=(u=a+i)&&u<s){n.selector.addClass("current");return r=t}return n.selector.removeClass("current")});h=function(){var e,t,n,i,s;n=o[r];s=[];for(e=0,t=n.length;e<t;e++){f=n[e];((i=$("#img-"+f.id))!=null?i.length:void 0)>0?s.push(void 0):s.push($("#"+f.id).find(".image-container").append($("<img id='img-"+f.id+"'\nsrc='img/png/"+f.url+"?"+Date.now()+"'\nclass='generated-image'/>").hide().delay(f.delay).show(0)))}return s}();n=function(){var t,n,i;i=[];for(l=t=0,n=e.length;t<n;l=++t){c=e[l];l!==r&&i.push(c.selector.find(".generated-image").remove())}return i}();return t.one("scroll",u)},1e3)})();return $("a",".page-nav").click(function(t){var n;t.preventDefault();switch($(this).attr("id")){case"prev-section":n=r-1;break;case"next-section":n=r+1;break;case"back-to-top":n=0}n<0&&(n=0);n>=e.length&&(n=e.length-1);return $("body").animate({scrollTop:e[n].top},function(){return r=n})})})}).call(this);