// Generated by CoffeeScript 1.4.0
(function(){$(document).ready(function(){var e,t,n,r,i,s,o;s=1;t=$(window);e=[];r=0;o=0;$(".hero-text").addClass("active");$(".hero-signup-button").addClass("active");(n=function(){e=$(".home-section").map(function(){return{selector:$(this),top:$(this).offset().top}});o=t.height();return setTimeout(function(){return t.one("resize",n)},1e3)})();(i=function(){return setTimeout(function(){s=t.scrollTop();$(".site-header").toggleClass("condensed",s>100);$(".signup-footer").toggleClass("bottom",s>20);$.each(e,function(t,n){var i,u,a;i=((u=e[t+1])!=null?u.top:void 0)||99999;if(n.top<=(a=s+o/2)&&a<i){n.selector.addClass("current");return r=t}return n.selector.removeClass("current")});$(".reloading-gif").each(function(){var e,t;t=$(this).data("src");e=$(this).data("delay")||0;if(!$(this).closest(".home-section").hasClass("current"))return $(this).hide().attr("src",null);if($(this).attr("src")==null)return $(this).delay(e).show(0).attr("src",t+"?"+Date.now())});return t.one("scroll",i)},500)})();return $("a",".page-nav").click(function(t){var n;t.preventDefault();switch($(this).attr("id")){case"prev-section":n=r-1;break;case"next-section":n=r+1;break;case"back-to-top":n=0}n<0&&(n=0);n>=e.length&&(n=e.length-1);return $("body").animate({scrollTop:e[n].top},function(){return r=n})})})}).call(this);